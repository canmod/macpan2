<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Names and Labels — names_and_labels • macpan2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Names and Labels — names_and_labels"><meta name="description" content="This page describes functions for giving names and labels to
entities in structured models."><meta property="og:description" content="This page describes functions for giving names and labels to
entities in structured models."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">macpan2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/quickstart.html">Quickstart</a></li>
    <li><a class="dropdown-item" href="../articles/example_models.html">Example Models</a></li>
    <li><a class="dropdown-item" href="../articles/calibration.html">Calibrating Compartmental Models to Data</a></li>
    <li><a class="dropdown-item" href="../articles/real_data.html">Fitting to Real Data</a></li>
    <li><a class="dropdown-item" href="../articles/state_updaters.html">ODE Solvers, Process Error, and Difference Equations</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/canmod/macpan2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Names and Labels</h1>
      <small class="dont-index">Source: <a href="https://github.com/canmod/macpan2/blob/main/R/name_utils.R" class="external-link"><code>R/name_utils.R</code></a></small>
      <div class="d-none name"><code>names_and_labels.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This page describes functions for giving names and labels to
entities in structured models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">to_labels</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">to_names</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">to_name</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">to_name_pairs</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">to_values</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Object from which to extract its name, names, labels, name-pairs,
or values. Not all types of objects will work for all functions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Character vector (or numeric vector in the case of <code>to_values</code>)
that describes <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>to_labels()</code>: Extract a vector for describing the rows
of a data frame or values of a numeric vector.</p></li>
<li><p><code>to_names()</code>: Extract a character vector for describing the
character-valued columns in a data frame or the flattened structure of
a numeric vector.
Names obey the following restrictions:  (1) they cannot have dots, (2) all
values must start with a letter, (3) all characters must be letters,
numbers, or underscore.</p></li>
<li><p><code>to_name()</code>: Extract a string (i.e. length-1 character
vector) for describing the character-valued columns in a data frame or the
flattened structure of a numeric vector. The name of an object is the
dot-concatenation of its names.</p></li>
<li><p><code>to_name_pairs()</code>: A character
vector with all possible pairwise dot-concatenations of a set of names.</p></li>
<li><p><code>to_values()</code>: Extract the <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> column from a
data frame with only a single numerical column. This data frame might have
more than one column, but only one of them can be numeric. This function
will also turn numeric <code><a href="engine_functions.html">matrix</a></code> and <code><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></code> objects
with <code><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></code> into a flattened numeric vector with labels
produced by appropriately dot-concatenating the <code><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="context">Context<a class="anchor" aria-label="anchor" href="#context"></a></h2>
    <p>A goal of <code>macpan2</code> is to provide a mechanism for representing structured
compartmental models. An example of such a model is to have each compartment
in an SEIR model split into a set of spatial locations and into a set of
age groups. It is crucial but difficult to assign meaningful and consistent
names to the compartments, flow rates, transmission rates, contact rates,
sub-population sizes, and other parameters determining these quantities.
Such names should convey how the different quantities relate to one another.
For example, the names should make clear that the rate of flow between two
compartments is specific to, say, the age group and location of those
compartments. The naming system should facilitate identifying model
quantities and sets of quantities. For example, in a spatially structured
model we might want to refer to all states in a particular location
(e.g. Toronto) and a specific state within that location (e.g. susceptible
individuals in Toronto).</p>
<p>Model entities (e.g. states, flow rates, transmission rates), can be
described using a data frame of string-valued columns. The rows of these data
frames represent the entities being represented.  The columns of the data
frame represent different ways to describe the rows.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">EpiSympVax</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Epi <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">rep</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"E"</span>, <span class="st">"I"</span>, <span class="st">"I"</span>, <span class="st">"R"</span>, <span class="st">"beta"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"alpha"</span>, <span class="st">"gamma"</span>, <span class="st">"gamma"</span>, <span class="st">"infectiousness"</span>, <span class="st">"infectiousness"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>  Symp <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">rep</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">""</span>, <span class="st">"mild"</span>, <span class="st">"severe"</span>, <span class="st">""</span>, <span class="st">""</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">""</span>, <span class="st">"mild"</span>, <span class="st">"severe"</span>, <span class="st">"mild"</span>, <span class="st">"severe"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span>  Vax <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">rep</a></span><span class="op">(</span><span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">"unvax"</span>, <span class="st">"vax"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"dose_rate"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">EpiSympVax</span></span>
<span><span class="co">#&gt;               Epi   Symp       Vax</span></span>
<span><span class="co">#&gt; 1               S            unvax</span></span>
<span><span class="co">#&gt; 2               E            unvax</span></span>
<span><span class="co">#&gt; 3               I   mild     unvax</span></span>
<span><span class="co">#&gt; 4               I severe     unvax</span></span>
<span><span class="co">#&gt; 5               R            unvax</span></span>
<span><span class="co">#&gt; 6            beta            unvax</span></span>
<span><span class="co">#&gt; 7               S              vax</span></span>
<span><span class="co">#&gt; 8               E              vax</span></span>
<span><span class="co">#&gt; 9               I   mild       vax</span></span>
<span><span class="co">#&gt; 10              I severe       vax</span></span>
<span><span class="co">#&gt; 11              R              vax</span></span>
<span><span class="co">#&gt; 12           beta              vax</span></span>
<span><span class="co">#&gt; 13          alpha</span></span>
<span><span class="co">#&gt; 14          gamma   mild</span></span>
<span><span class="co">#&gt; 15          gamma severe</span></span>
<span><span class="co">#&gt; 16 infectiousness   mild</span></span>
<span><span class="co">#&gt; 17 infectiousness severe</span></span>
<span><span class="co">#&gt; 18                       dose_rate</span></span></code></pre><p></p></div>
<p>Non-empty values in each cell must contain only letters, numbers, underscores,
and must start with a letter. Empty values are zero-length strings that can be
used to indicate that some partitions are not applicable to some variables. The
purpose for these restrictions is to facilitate the construction of strings and
character vectors that summarize different aspects of the data frame.
When taken together, these summaries can be inverted to restore the full
labelled partition and so they represent zero information loss. This equivalence
allows us to go back-and-forth between the two representations without loosing
information, but perhaps gaining convenience.</p>
<p>There are three types of summaries: the names, the name, and the labels. The
names of a data frame are the names of the string-valued columns.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/names_and_labels.html">to_names</a></span><span class="op">(</span><span class="va">EpiSympVax</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Epi"  "Symp" "Vax"</span></span></code></pre><p></p></div>
<p>The name of a data frame is the dot-concatenation of the names.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/names_and_labels.html">to_name</a></span><span class="op">(</span><span class="va">EpiSympVax</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Epi.Symp.Vax"</span></span></code></pre><p></p></div>
<p>The labels of a data frame is the row-wise dot-concatenation of the
string-valued columns.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/names_and_labels.html">to_labels</a></span><span class="op">(</span><span class="va">EpiSympVax</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "S..unvax"               "E..unvax"               "I.mild.unvax"</span></span>
<span><span class="co">#&gt;  [4] "I.severe.unvax"         "R..unvax"               "beta..unvax"</span></span>
<span><span class="co">#&gt;  [7] "S..vax"                 "E..vax"                 "I.mild.vax"</span></span>
<span><span class="co">#&gt; [10] "I.severe.vax"           "R..vax"                 "beta..vax"</span></span>
<span><span class="co">#&gt; [13] "alpha.."                "gamma.mild."            "gamma.severe."</span></span>
<span><span class="co">#&gt; [16] "infectiousness.mild."   "infectiousness.severe." "..dose_rate"</span></span></code></pre><p></p></div>
<p>These labels give a unique single character string for referring to each
variable. With only the labels and one of either the names or the name, one may
recover the labelled partition. The labels provide convenient names for the
variables – i.e. rownames.
By convention we use <a href="https://en.wikipedia.org/wiki/Camel_case" class="external-link">UpperCamelCase</a>
for partition names and a modified form of
<a href="https://en.wikipedia.org/wiki/Snake_case" class="external-link">snake_case</a> for variable labels. Our
modification of snake case allows for single uppercase letters in order to
accommodate the convention in epidemiology for using single uppercase letters to
refer to state variables. For example, <code>S</code>, <code>I</code>, and <code>R</code>, as well as <code>I_mild</code>
and <code>I_severe</code>, would be consistent with our modified snake case style.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Walker, Weiguang Guan, Ben Bolker, Jen Freeman, Darren Flynn-Primrose.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

