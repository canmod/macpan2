<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="macpan2">
<title>Quickstart • macpan2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quickstart">
<meta property="og:description" content="macpan2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">macpan2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/quickstart.html">Quickstart</a>
    <a class="dropdown-item" href="../articles/example_models.html">Example Models</a>
    <a class="dropdown-item" href="../articles/calibration.html">Calibrating Compartmental Models to Data</a>
    <a class="dropdown-item" href="../articles/real_data.html">Fitting to Real Data</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/canmod/macpan2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Quickstart</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/canmod/macpan2/blob/HEAD/vignettes/quickstart.Rmd" class="external-link"><code>vignettes/quickstart.Rmd</code></a></small>
      <div class="d-none name"><code>quickstart.Rmd</code></div>
    </div>

    
    
<p><a href="https://canmod.github.io/macpan2/articles/vignette-status#working-draft"><img src="https://img.shields.io/badge/status-working%20draft-red" alt="status"></a></p>
<div class="section level2">
<h2 id="hello-world">Hello World<a class="anchor" aria-label="anchor" href="#hello-world"></a>
</h2>
<p>The following code specifies an SI model, which is I think is the
simplest possible model of epidemiological transmission.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si</span> <span class="op">=</span> <span class="fu"><a href="../reference/mp_tmb_model_spec.html">mp_tmb_model_spec</a></span><span class="op">(</span></span>
<span>    before <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="va">I</span> <span class="op">~</span> <span class="fl">1</span></span>
<span>      , <span class="va">S</span> <span class="op">~</span> <span class="va">N</span> <span class="op">-</span> <span class="va">I</span></span>
<span>    <span class="op">)</span></span>
<span>  , during <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="va">infection_rate</span> <span class="op">~</span> <span class="va">beta</span> <span class="op">*</span> <span class="va">S</span> <span class="op">*</span> <span class="va">I</span> <span class="op">/</span> <span class="va">N</span></span>
<span>      , <span class="va">S</span> <span class="op">~</span> <span class="va">S</span> <span class="op">-</span> <span class="va">infection_rate</span></span>
<span>      , <span class="va">I</span> <span class="op">~</span> <span class="va">I</span> <span class="op">+</span> <span class="va">infection_rate</span></span>
<span>    <span class="op">)</span></span>
<span>  , default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">100</span>, beta <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/engine_functions.html">print</a></span><span class="op">(</span><span class="va">si</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ---------------------</span></span>
<span><span class="co">## Default values:</span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">##  matrix row col  value</span></span>
<span><span class="co">##       N         100.00</span></span>
<span><span class="co">##    beta           0.25</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## Before the simulation loop (t = 0):</span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## 1: I ~ 1</span></span>
<span><span class="co">## 2: S ~ N - I</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## At every iteration of the simulation loop (t = 1 to T):</span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## 1: infection_rate ~ beta * S * I/N</span></span>
<span><span class="co">## 2: S ~ S - infection_rate</span></span>
<span><span class="co">## 3: I ~ I + infection_rate</span></span></code></pre>
<p>Simulating from this model requires choosing the number of time-steps
to run and the model outputs to generate. Syntax for simulating
<code>macpan2</code> models is designed to combine with standard data
prep and plotting tools in R, as we demonstrate with the following
code.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">si</span></span>
<span> </span>
<span> <span class="co">## macpan2</span></span>
<span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/mp_simulator.html">mp_simulator</a></span><span class="op">(</span></span>
<span>        time_steps <span class="op">=</span> <span class="fl">50</span></span>
<span>      , outputs <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">"I"</span>, <span class="st">"infection_rate"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/mp_trajectory.html">mp_trajectory</a></span><span class="op">(</span><span class="op">)</span></span>
<span> </span>
<span> <span class="co">## dplyr</span></span>
<span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>quantity <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_match.html" class="external-link">case_match</a></span><span class="op">(</span><span class="va">matrix</span></span>
<span>      , <span class="st">"I"</span> <span class="op">~</span> <span class="st">"Prevalence"</span></span>
<span>      , <span class="st">"infection_rate"</span> <span class="op">~</span> <span class="st">"Incidence"</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span> </span>
<span> <span class="co">## ggplot2</span></span>
<span> <span class="op">|&gt;</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> </span>
<span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span> </span>
<span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">quantity</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span></span>
<span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/plot-tmb-si-1.png" width="700"></p>
<p>(Above, we used the <a href="https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe/#pipes" class="external-link">base
R pipe operator</a>, <code>|&gt;</code>.)</p>
<p>The remainder of this article looks at each step required to create
this plot in more detail, and discusses alternative approaches.</p>
</div>
<div class="section level2">
<h2 id="creating-a-simulator">Creating a Simulator<a class="anchor" aria-label="anchor" href="#creating-a-simulator"></a>
</h2>
<p>The first step is to produce a simulator object, which can be used to
generate simulation results. This object can be produced using the
<code>mp_simulator</code> function, which takes the following
arguments.</p>
<ul>
<li>
<code>model</code> : A model specification object, such as
<code>si</code>.</li>
<li>
<code>time_steps</code>: How many time steps should the epidemic
simulator run for?</li>
<li>
<code>outputs</code> : The model variables to return in simulation
output.</li>
<li>
<code>default</code> (optional) : Allows one to update the default
parameter values and initial conditions provided in the model
specification (see the argument <code>default</code> above in the
<code>mp_tmb_model_spec</code> function). Any variables that are not
specified in <code>default</code> will be left at the values in the
specification.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si_simulator</span> <span class="op">=</span> <span class="fu"><a href="../reference/mp_simulator.html">mp_simulator</a></span><span class="op">(</span></span>
<span>    model <span class="op">=</span> <span class="va">si</span> </span>
<span>  , time_steps <span class="op">=</span> <span class="fl">50</span></span>
<span>  , outputs <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">"I"</span>, <span class="st">"infection_rate"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">si_simulator</span></span></code></pre></div>
<pre><code><span><span class="co">## ---------------------</span></span>
<span><span class="co">## Before the simulation loop (t = 0):</span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## 1: I ~ 1</span></span>
<span><span class="co">## 2: S ~ N - I</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## At every iteration of the simulation loop (t = 1 to 50):</span></span>
<span><span class="co">## ---------------------</span></span>
<span><span class="co">## 1: infection_rate ~ beta * S * I/N</span></span>
<span><span class="co">## 2: S ~ S - infection_rate</span></span>
<span><span class="co">## 3: I ~ I + infection_rate</span></span></code></pre>
<p>This <code>si_simulator</code> object contains all of the information
required to generate model simulations of <code>I</code> and
<code>infection_rate</code> over 50 time steps, without actually
generating the simulations. This more interesting step of simulation is
covered in <a href="#generating-simulations">the next section</a>. But
before moving on we explain why we separate the step of creating a
simulator from the step of running simulations.</p>
<p>The reason for two steps is to optimize performance in more
computationally challenging applications of the software than those
covered in this article. The step of creating the simulator object is
more computationally intensive than the next step of actually generating
the simulations. Therefore this separation is useful when a single
simulator can be used to repeatedly generate many different simulations.
Three common examples requiring repeated simulations from the same
simulator are:</p>
<ul>
<li>for models with stochasticity so that the output is different for
each run,</li>
<li>for calibrating model parameters to data using iterative
optimization tools,</li>
<li>and for running different scenarios by updating certain parameters
before simulation.</li>
</ul>
<p>Because <code>macpan2</code> is primarily developed for such
computationally challenging iterative simulation problems, we believe
that it is better to introduce these two steps as distinct from the very
beginning. Although two steps might seem unnecessarily complex within
the context of this article, keeping them separate will make life easier
when working with more realistic workflows and models.</p>
</div>
<div class="section level2">
<h2 id="generating-simulations">Generating Simulations<a class="anchor" aria-label="anchor" href="#generating-simulations"></a>
</h2>
<p>Now that we have a simulation engine object,
<code>si_simulator</code>, we use it to generate simulation results
using the <code>mp_trajectory</code> function. The results come out in
<a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data" class="external-link">long (or
“narrow”) format</a>, where there is exactly one value per row:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si_results</span> <span class="op">=</span> <span class="fu"><a href="../reference/mp_trajectory.html">mp_trajectory</a></span><span class="op">(</span><span class="va">si_simulator</span><span class="op">)</span></span>
<span><span class="va">si_results</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           matrix time row col     value</span></span>
<span><span class="co">## 1              I    1   0   0 1.2475000</span></span>
<span><span class="co">## 2 infection_rate    1   0   0 0.2475000</span></span>
<span><span class="co">## 3              I    2   0   0 1.5554844</span></span>
<span><span class="co">## 4 infection_rate    2   0   0 0.3079844</span></span>
<span><span class="co">## 5              I    3   0   0 1.9383066</span></span>
<span><span class="co">## 6 infection_rate    3   0   0 0.3828223</span></span>
<span><span class="co">## 7              I    4   0   0 2.4134907</span></span>
<span><span class="co">## 8 infection_rate    4   0   0 0.4751841</span></span></code></pre>
<p>The simulation results are output as a data frame with the following
columns:</p>
<ul>
<li>
<code>matrix</code>: Which matrix does a value come from? All
variables are represented as matrices, although in this article we only
consider 1-by-1 matrices.</li>
<li>
<code>time</code>: The time index from <code>1</code> to
<code>time_steps</code>.</li>
<li>
<code>row</code>, <code>col</code>: Placeholders for variable
components in more complicated structured models (not covered in this
article, but useful for example when S and I in different age groups or
geographic locations are tracked separately).</li>
<li>
<code>value</code>: The simulated value for a particular state and
time step.</li>
</ul>
</div>
<div class="section level2">
<h2 id="processing-results">Processing Results<a class="anchor" aria-label="anchor" href="#processing-results"></a>
</h2>
<p><code>macpan2</code> does not provide any data manipulation or
plotting tools (although there are a few in
<code>macpan2helpers</code>). The philosophy is to focus on the engine
and modelling interface, but to provide outputs in formats that are easy
to use with other data processing packages, like <code>ggplot2</code>,
<code>dplyr</code>, and <code>tidyr</code>, all of which readily make
use of data in long format.</p>
<p>In the graphs above for example, we required a step that renames the
model variables into something that makes more sense for the graphical
presentation. Here we reproduce this, but take a little more care to
produce a tidier dataset.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si_results</span> <span class="op">=</span> <span class="op">(</span><span class="va">si_results</span></span>
<span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>matrix <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_match.html" class="external-link">case_match</a></span><span class="op">(</span><span class="va">matrix</span></span>
<span>      , <span class="st">"I"</span> <span class="op">~</span> <span class="st">"Prevalence"</span></span>
<span>      , <span class="st">"infection_rate"</span> <span class="op">~</span> <span class="st">"Incidence"</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>quantity <span class="op">=</span> <span class="va">matrix</span><span class="op">)</span></span>
<span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">quantity</span>, <span class="va">value</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/engine_functions.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">si_results</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   time   quantity     value</span></span>
<span><span class="co">## 1    1 Prevalence 1.2475000</span></span>
<span><span class="co">## 2    1  Incidence 0.2475000</span></span>
<span><span class="co">## 3    2 Prevalence 1.5554844</span></span>
<span><span class="co">## 4    2  Incidence 0.3079844</span></span>
<span><span class="co">## 5    3 Prevalence 1.9383066</span></span>
<span><span class="co">## 6    3  Incidence 0.3828223</span></span>
<span><span class="co">## 7    4 Prevalence 2.4134907</span></span>
<span><span class="co">## 8    4  Incidence 0.4751841</span></span></code></pre>
<p>Here we rename the <code>I</code> state variable as the disease
prevalence (number of currently infected individuals). Because this is a
discrete-time model, we can reinterpret the <code>infection_rate</code>
as the incidence (number of newly infected individuals) over one time
step. Note that this approach to calculating incidence only works if the
time period over which incidence is measured corresponds to the length
of one time step. If this assumption is not met – for example if the
time step is one day but incidence data are reported every week – then
other approaches to computing incidence that are not covered here must
be taken.</p>
<p>We can generate a <code>ggplot</code> from this dataset as we did
above. If you want to use base R plots, you can convert the long format
data to wide format:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si_results_wide</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">si_results</span></span>
<span>  <span class="op">|&gt;</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>      , id_cols <span class="op">=</span> <span class="va">time</span></span>
<span>      , names_from <span class="op">=</span> <span class="va">quantity</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Time <span class="op">=</span> <span class="va">time</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">si_results_wide</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">##    Time Prevalence Incidence</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>     1       1.25     0.248</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>     2       1.56     0.308</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>     3       1.94     0.383</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">si_results_wide</span>,</span>
<span>     <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Time</span>,</span>
<span>          y <span class="op">=</span> <span class="va">Incidence</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/base_plot_ex-1.png" width="576"></p>
<p>or</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>las <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co">## horizontal y-axis ticks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span></span>
<span>    <span class="va">si_results_wide</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span>  , <span class="va">si_results_wide</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span></span>
<span>  , type <span class="op">=</span> <span class="st">"l"</span></span>
<span>  , xlab <span class="op">=</span> <span class="st">"Time"</span>, ylab <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, lty <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, legend <span class="op">=</span> <span class="fu"><a href="../reference/engine_functions.html">c</a></span><span class="op">(</span><span class="st">"Prevalence"</span>, <span class="st">"Incidence"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="quickstart_files/figure-html/base_matplot_ex-1.png" width="576"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Steve Walker, Weiguang Guan, Ben Bolker, Jen Freeman, Darren Flynn-Primrose.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
